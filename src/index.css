@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg-default: #fff8c5;
  --text-default: #222222;
}

html, body, #root {
  height: 100%;
}

/* Simple autosize for title input */
.title-input {
  background: transparent;
  outline: none;
}

/* Utilities: line clamp without plugin */
.line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.line-clamp-3 { display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }

/* Subtle scrollbar styling */
* {
  scrollbar-width: thin;
  scrollbar-color: #c7c7c7 transparent;
}
*::-webkit-scrollbar { height: 8px; width: 8px; }
*::-webkit-scrollbar-thumb { background: #bfbfbf; border-radius: 9999px; }
*::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }

/* Focus ring consistency */
.focus-ring {
  @apply outline-none ring-2 ring-offset-2 ring-blue-500 ring-offset-transparent;
}

/* Card hover lift */
.card {
  @apply transition-transform transition-shadow duration-150 ease-out;
}
.card:hover { @apply shadow-md -translate-y-0.5; }

/* General smooth transitions */
.transition-smooth { transition: background-color 180ms ease, color 180ms ease, border-color 180ms ease, box-shadow 180ms ease, transform 180ms ease, opacity 180ms ease; }

/* Drop target highlight for DnD */
.drop-target { outline: 2px dashed rgba(59,130,246,0.6); outline-offset: 2px; }

/* Keyframes for subtle enter animations */
@keyframes fadeIn {
  from { opacity: 0 }
  to { opacity: 1 }
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(6px) }
  to { opacity: 1; transform: translateY(0) }
}

.animate-fade-in { animation: fadeIn 180ms ease both; }
.animate-fade-in-up { animation: fadeInUp 220ms cubic-bezier(0.22, 1, 0.36, 1) both; }

/* Archive out animation for cards */
@keyframes archiveOut {
  to { opacity: 0; transform: translateY(4px) scale(0.98); }
}
.animate-archive-out { animation: archiveOut 180ms ease both; }

/* Toggle pulse for filter button */
@keyframes togglePulse {
  0% { transform: scale(1); }
  40% { transform: scale(1.05); }
  100% { transform: scale(1); }
}
.animate-toggle-pulse { animation: togglePulse 220ms ease-out; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation: none !important; transition: none !important }
}

/* WYSIWYG content defaults */
.wysiwyg :where(h1){ font-size:1.5rem; line-height:1.25; margin:0.5rem 0; font-weight:700 }
.wysiwyg :where(h2){ font-size:1.25rem; line-height:1.3; margin:0.5rem 0; font-weight:600 }
.wysiwyg :where(h3){ font-size:1.125rem; line-height:1.35; margin:0.5rem 0; font-weight:600 }
.wysiwyg :where(p){ margin:0.5rem 0 }
.wysiwyg :where(ul){ list-style: disc; padding-left:1.25rem; margin:0.5rem 0 }
.wysiwyg :where(ol){ list-style: decimal; padding-left:1.25rem; margin:0.5rem 0 }
.wysiwyg :where(blockquote){ border-left:3px solid currentColor; padding-left:0.75rem; margin:0.5rem 0; opacity:.9 }
.wysiwyg :where(code, pre){ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace }
.wysiwyg :where(pre){ background-color: rgba(0,0,0,.06); padding: .5rem; border-radius:.375rem; overflow:auto }
.wysiwyg :where(a){ text-decoration: underline; text-underline-offset: 2px }
.wysiwyg { word-wrap: break-word; overflow-wrap: anywhere }
